{% extends "base.html" %}
{% load humanize %}
{% block css %}
{% endblock %}
{% block content %}
  <div class="g-pa-20">
    <h1 class="g-font-weight-300 g-font-size-24 g-color-black g-mb-30"> 월간 매출 - {{ dailysales_list.first.store }}     <a href={{ download_link }} download>파일 다운로드</a></h1>

<div class="g-brd-around g-brd-gray-light-v7 g-rounded-4 g-pa-20 g-mb-30">
              <div class="form-group mb-0 g-max-width-400">
                <div id="datepickerWrapper" class="u-datepicker-right u-datepicker--v3 g-pos-rel w-100 g-cursor-pointer g-brd-around g-brd-gray-light-v7 g-rounded-4">
                  <input class="js-range-datepicker g-bg-transparent g-font-size-12 g-font-size-default--md g-color-gray-dark-v6 g-pr-80 g-pl-15 g-py-9 flatpickr-input" type="text" placeholder="Select Date" data-rp-wrapper="#datepickerWrapper" data-rp-date-format="d/m/Y" readonly="readonly" style="width: 0px;">
                  <div class="d-flex align-items-center g-absolute-centered--y g-right-0 g-color-gray-light-v6 g-color-lightblue-v9--sibling-opened g-mr-15">
                    <i class="hs-admin-calendar g-font-size-18 g-mr-10"></i>
                    <i class="hs-admin-angle-down"></i>
                  </div>
                <div class="flatpickr-calendar animate arrowTop" tabindex="-1" style="top: 278.938px; left: 291.953px; right: auto;"><div class="flatpickr-month"><span class="flatpickr-prev-month" style="display: block;"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17 17"><g></g><path d="M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z"></path></svg></span><div class="flatpickr-current-month"><span class="cur-month" title="Scroll to increment">May </span><div class="numInputWrapper"><input class="numInput cur-year" type="text" pattern="\d*" title="Scroll to increment"><span class="arrowUp"></span><span class="arrowDown"></span></div></div><span class="flatpickr-next-month" style="display: block;"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17 17"><g></g><path d="M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z"></path></svg></span></div><div class="flatpickr-innerContainer"><div class="flatpickr-rContainer"><div class="flatpickr-weekdays">
    <span class="flatpickr-weekday">
      Mo</span><span class="flatpickr-weekday">Tu</span><span class="flatpickr-weekday">We</span><span class="flatpickr-weekday">Th</span><span class="flatpickr-weekday">Fr</span><span class="flatpickr-weekday">Sa</span><span class="flatpickr-weekday">Su
    </span>
    </div><div class="flatpickr-days" tabindex="-1"><div class="dayContainer"><span class="flatpickr-day prevMonthDay" aria-label="April 30, 2018" tabindex="-1">30</span><span class="flatpickr-day " aria-label="May 1, 2018" tabindex="-1">1</span><span class="flatpickr-day " aria-label="May 2, 2018" tabindex="-1">2</span><span class="flatpickr-day " aria-label="May 3, 2018" tabindex="-1">3</span><span class="flatpickr-day " aria-label="May 4, 2018" tabindex="-1">4</span><span class="flatpickr-day " aria-label="May 5, 2018" tabindex="-1">5</span><span class="flatpickr-day " aria-label="May 6, 2018" tabindex="-1">6</span><span class="flatpickr-day " aria-label="May 7, 2018" tabindex="-1">7</span><span class="flatpickr-day " aria-label="May 8, 2018" tabindex="-1">8</span><span class="flatpickr-day " aria-label="May 9, 2018" tabindex="-1">9</span><span class="flatpickr-day " aria-label="May 10, 2018" tabindex="-1">10</span><span class="flatpickr-day " aria-label="May 11, 2018" tabindex="-1">11</span><span class="flatpickr-day " aria-label="May 12, 2018" tabindex="-1">12</span><span class="flatpickr-day " aria-label="May 13, 2018" tabindex="-1">13</span><span class="flatpickr-day " aria-label="May 14, 2018" tabindex="-1">14</span><span class="flatpickr-day " aria-label="May 15, 2018" tabindex="-1">15</span><span class="flatpickr-day " aria-label="May 16, 2018" tabindex="-1">16</span><span class="flatpickr-day " aria-label="May 17, 2018" tabindex="-1">17</span><span class="flatpickr-day " aria-label="May 18, 2018" tabindex="-1">18</span><span class="flatpickr-day " aria-label="May 19, 2018" tabindex="-1">19</span><span class="flatpickr-day " aria-label="May 20, 2018" tabindex="-1">20</span><span class="flatpickr-day " aria-label="May 21, 2018" tabindex="-1">21</span><span class="flatpickr-day " aria-label="May 22, 2018" tabindex="-1">22</span><span class="flatpickr-day " aria-label="May 23, 2018" tabindex="-1">23</span><span class="flatpickr-day " aria-label="May 24, 2018" tabindex="-1">24</span><span class="flatpickr-day today" aria-label="May 25, 2018" tabindex="-1">25</span><span class="flatpickr-day " aria-label="May 26, 2018" tabindex="-1">26</span><span class="flatpickr-day " aria-label="May 27, 2018" tabindex="-1">27</span><span class="flatpickr-day " aria-label="May 28, 2018" tabindex="-1">28</span><span class="flatpickr-day " aria-label="May 29, 2018" tabindex="-1">29</span><span class="flatpickr-day " aria-label="May 30, 2018" tabindex="-1">30</span><span class="flatpickr-day " aria-label="May 31, 2018" tabindex="-1">31</span><span class="flatpickr-day nextMonthDay" aria-label="June 1, 2018" tabindex="-1">1</span><span class="flatpickr-day nextMonthDay" aria-label="June 2, 2018" tabindex="-1">2</span><span class="flatpickr-day nextMonthDay" aria-label="June 3, 2018" tabindex="-1">3</span><span class="flatpickr-day nextMonthDay" aria-label="June 4, 2018" tabindex="-1">4</span><span class="flatpickr-day nextMonthDay" aria-label="June 5, 2018" tabindex="-1">5</span><span class="flatpickr-day nextMonthDay" aria-label="June 6, 2018" tabindex="-1">6</span><span class="flatpickr-day nextMonthDay" aria-label="June 7, 2018" tabindex="-1">7</span><span class="flatpickr-day nextMonthDay" aria-label="June 8, 2018" tabindex="-1">8</span><span class="flatpickr-day nextMonthDay" aria-label="June 9, 2018" tabindex="-1">9</span><span class="flatpickr-day nextMonthDay" aria-label="June 10, 2018" tabindex="-1">10</span></div></div></div></div></div></div>
              </div>
            </div>


    <form action="" type="get">
            <div class="g-brd-around g-brd-gray-light-v7 g-rounded-4 g-pa-20 g-mb-30">
                <h4 class="h6 g-font-weight-600 g-color-black g-mb-20">날짜</h4>

              <div class="form-group g-mb-20">
                <div id="datepickerWrapper" class="u-datepicker-right u-datepicker--v3 g-pos-rel w-100 g-cursor-pointer g-brd-around g-brd-gray-light-v7 g-rounded-4">
                  <input class="js-range-datepicker g-bg-transparent g-font-size-12 g-font-size-default--md g-color-gray-dark-v6 g-pr-80 g-pl-15 g-py-9" type="text" placeholder="Select Date" name="datepickerforsales" data-rp-wrapper="#datepickerWrapper" data-rp-date-format="d/m/Y">
                  <div class="d-flex align-items-center g-absolute-centered--y g-right-0 g-color-gray-light-v6 g-color-lightblue-v9--sibling-opened g-mr-15">
                    <i class="hs-admin-calendar g-font-size-18 g-mr-10"></i>
                    <i class="hs-admin-angle-down"></i>
                  </div>
                </div>
              </div>
              <div class="form-group g-mb-20">
                <h4 class="h6 g-font-weight-600 g-color-black g-mb-20">매장</h4>
                  <div class="btn-group justified-content">
                    <label class="u-check">
                      <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radGroupBtn1_1" value="hd1" checked="" type="radio">
                      <span class="btn btn-md btn-block u-btn-outline-lightgray g-color-white--checked g-bg-primary--checked rounded-0">홍대1</span>
                    </label>
                    <label class="u-check">
                      <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radGroupBtn1_1" value="hd2"  type="radio">
                      <span class="btn btn-md btn-block u-btn-outline-lightgray g-color-white--checked g-bg-primary--checked g-brd-left-none--md rounded-0">홍대2</span>
                    </label>
                    <label class="u-check">
                      <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radGroupBtn1_1" value="sc"  type="radio">
                      <span class="btn btn-md btn-block u-btn-outline-lightgray g-color-white--checked g-bg-primary--checked g-brd-left-none--md rounded-0">신촌</span>
                    </label>
                    <label class="u-check">
                      <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radGroupBtn1_1" value="bp"  type="radio">
                      <span class="btn btn-md btn-block u-btn-outline-lightgray g-color-white--checked g-bg-primary--checked g-brd-left-none--md rounded-0">부평</span>
                    </label>
                    <label class="u-check">
                      <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radGroupBtn1_1" value="sw"  type="radio">
                      <span class="btn btn-md btn-block u-btn-outline-lightgray g-color-white--checked g-bg-primary--checked g-brd-left-none--md rounded-0">수원</span>
                    </label>
                    <label class="u-check">
                      <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radGroupBtn1_1" value="sh"  type="radio">
                      <span class="btn btn-md btn-block u-btn-outline-lightgray g-color-white--checked g-bg-primary--checked g-brd-left-none--md rounded-0">서현</san>
                    </label>
                  </div>
              </div>
                        <input class="btn btn-md btn-block" type="submit" />

            </div>
    </form>
    <header class="g-mb-20">
      <h2 class="g-font-weight-400 g-font-size-16 g-color-black mb-0">{{ dailysales_list.first.date|date:"Y/M" }}</h2>
    </header>
    <div class="table-responsive g-mb-40">
      <table class="table u-table--v3 g-color-black">
        <thead>
          <tr>
            <th>날짜</th>
            <th>요일</th>
            <th>포스 현금</th>
            <th>포스 카드</th>
            <th>키오스크 현금</th>
            <th>키오스크 카드</th>
            <th>합계</th>
          </tr>
        </thead>
        <tbody>

    {% for dailysales in dailysales_list %}
        {% if dailysales.weekday == "SUN" or dailysales.weekday == "SAT" %}
        <tr class="g-color-primary">
        {% else %}
        <tr>
        {% endif %}
            <td>{{ dailysales.date|date:"M/d"}}</td>
            <td>{{ dailysales.weekday }}</td>
            <td>{{ dailysales.pos_cash_sales|intcomma }}</td>
        <td>{{ dailysales.pos_card_sales|intcomma }}</td>
        <td>{{ dailysales.kiosk_cash_sales|intcomma }}</td>
        <td>{{ dailysales.kiosk_card_sales|intcomma }}</td>
        <td>{{ dailysales.total_sales|intcomma }}</td>
        </tr>
    {% endfor %}
      <tr>
          <td>Total Sales</td>
          <td></td>
          {% for key,value in aggregated_data.items %}
          <td>{{ value|intcomma }}</td>
          {% endfor %}
      </tr>
    </table>
    </div>
{% endblock %}
{% block javascript %}
  <script>
    $(document).on('ready', function () {
      // initialization of custom select
      $('.js-select').selectpicker();

      $('.js-select').on('shown.bs.select', function (e) {
        $(this).addClass('opened');
      });

      $('.js-select').on('hidden.bs.select', function (e) {
        $(this).removeClass('opened');
      });

      // initialization of range datepicker
      $.HSCore.components.HSRangeDatepicker.init('.js-range-datepicker');


      // initialization of HSDropdown component
      $.HSCore.components.HSDropdown.init($('[data-dropdown-target]'), {dropdownHideOnScroll: false});

    });
  </script>

{% endblock %}